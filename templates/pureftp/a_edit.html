{% extends 'home/base_1.html' %}
{% load staticfiles %}


{% block pagecss %}
{% endblock %}


<!-- 正文开始 -->
{% block content %}
    <div class="row">
        <div class="col-xs-12">

            <form class="form-horizontal" role="form" id="form1" name="form1" method="post">
                {% csrf_token %}
                <!-- 账号 -->
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right" for="form-field-1"> 账号 </label>

                    <div class="col-sm-9">
                        <input type="hidden"  name="id" id="id" value="{{ data.id }}">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="User"
                               id="User" value="{{ data.User }}">
                    </div>
                </div>
                <div class="space-4"></div>

                <!-- 密码 -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> 密码 </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="Password"
                               id="Password" value="{{ data.Password }}">
                    </div>
                </div>
                <div class="space-4"></div>


                <!-- Dir -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> Dir </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="Dir" id="Dir" value="{{ data.Dir }}">
                    </div>
                </div>

                <!-- 服务列表 -->
                <div class="form-group">
                    <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="food">服务器列表</label>

                    <div class="col-xs-12 col-sm-9">
                        <select id="ftp_id" name="ftp_id" class="multiselect" multiple="">
                            {% for s in servers %}
                                {% if  s in data.ftp_server.all %}
                                    <option value="{{ s.id }}" selected>{{ s.ftp_name }} | {{ s.server.server_ip }}</option>
                                {% else %}
                                    <option value="{{ s.id }}">{{ s.ftp_name }} | {{ s.server.server_ip }}</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="space-4"></div>

                 <!-- 所有者 -->
                <div class="form-group">
                    <label class="col-sm-3 control-label no-padding-right" for="form-field-1"> 所有者 </label>

                    <div class="col-sm-4">
                        <select class="form-control chosen-select" id="user_id" name="user_id">
                           {% for u in users %}
                               {% if u.id == data.user_id.id %}
                                   <option value="{{ u.id }}" selected>{{ u.username }} | {{ u.last_name }}{{ u.first_name }}</option>
                               {% else %}
                                   <option value="{{ u.id }}">{{ u.username }} | {{ u.last_name }}{{ u.first_name }}</option>
                               {% endif %}

                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="space-4"></div>
                <hr>

                <!-- Uid -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> Uid </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="Uid" id="Uid" value="{{ data.Uid }}">
                    </div>
                </div>

                <!-- ip -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> Gid </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="Gid" id="Gid" value="{{ data.Gid }}">
                    </div>
                </div>

                <!-- ULBandwidth -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> ULBandwidth </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="ULBandwidth" id="ULBandwidth" value="{{ data.ULBandwidth }}">
                    </div>
                </div>

                <!-- DLBandwidth -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> DLBandwidth </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="DLBandwidth" id="DLBandwidth" value="{{ data.DLBandwidth }}">
                    </div>
                </div>

                <!-- ipaccess -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> ipaccess </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="ipaccess" id="ipaccess" value="{{ data.ipaccess }}">
                    </div>
                </div>

                <!-- QuotaSize -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> QuotaSize </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="QuotaSize" id="QuotaSize" value="{{ data.QuotaSize }}">
                    </div>
                </div>

                <!-- QuotaFiles -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> QuotaFiles </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="QuotaFiles" id="QuotaFiles" value="{{ data.QuotaFiles }}">
                    </div>
                </div>

                <!-- version -->
                <div class="form-group">
                    <label for="form-field-1" class="col-sm-3 control-label no-padding-right"> comment </label>

                    <div class="col-sm-9">
                        <input type="text" required="" class="col-xs-10 col-sm-5" placeholder="" name="comment"
                               id="comment" value="{{ data.comment }}">
                    </div>
                </div>
                <div class="space-4"></div>

                <!-- 提交表单 -->

                <div class="clearfix form-actions">
                    <div class="col-md-offset-3 col-md-9">
                        <button class="btn btn-info" type="button" onclick="submit_form('form1')">
                            <i class="ace-icon fa fa-check bigger-110"></i>
                            提交
                        </button>

                        &nbsp; &nbsp; &nbsp;
                        <button class="btn" type="reset">
                            <i class="ace-icon fa fa-undo bigger-110"></i>
                            重置
                        </button>
                    </div>
                </div>

            </form>
        </div>
        <!-- /.span -->
    </div>
{% endblock %}

<!-- 当前页面需要引入的js-->
{% block pagescripts %}
{% endblock %}
<!-- 当前页面需要执行的脚本 -->
{% block inline %}
    <script type="text/javascript">
        jQuery(function ($) {

            //////////////////
            $('.multiselect').multiselect({
                enableFiltering: true,
                buttonClass: 'btn btn-white btn-primary',
                templates: {
                    button: '<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"></button>',
                    ul: '<ul class="multiselect-container dropdown-menu"></ul>',
                    filter: '<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="fa fa-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',
                    filterClearBtn: '<span class="input-group-btn"><button class="btn btn-default btn-white btn-grey multiselect-clear-filter" type="button"><i class="fa fa-times-circle red2"></i></button></span>',
                    li: '<li><a href="javascript:void(0);"><label></label></a></li>',
                    divider: '<li class="multiselect-item divider"></li>',
                    liGroup: '<li class="multiselect-item group"><label class="multiselect-group"></label></li>'
                }
            });

            if (!ace.vars['touch']) {
                $('.chosen-select').chosen({allow_single_deselect: true});
                //resize the chosen on window resize
                $(window)
                        .off('resize.chosen')
                        .on('resize.chosen', function () {
                            $('.chosen-select').each(function () {
                                var $this = $(this);
                                $this.next().css({'width': $this.parent().width()});
                            })
                        }).trigger('resize.chosen');
                //resize chosen on sidebar collapse/expand
                $(document).on('settings.ace.chosen', function (e, event_name, event_val) {
                    if (event_name != 'sidebar_collapsed') return;
                    $('.chosen-select').each(function () {
                        var $this = $(this);
                        $this.next().css({'width': $this.parent().width()});
                    })
                });

                $('#chosen-multiple-style .btn').on('click', function (e) {
                    var target = $(this).find('input[type=radio]');
                    var which = parseInt(target.val());
                    if (which == 2) $('#form-field-select-4').addClass('tag-input-style');
                    else $('#form-field-select-4').removeClass('tag-input-style');
                });
            }
        });
    </script>

{% endblock %}
